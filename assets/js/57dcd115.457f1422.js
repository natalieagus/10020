"use strict";(self.webpackChunksite_docusaurus_template=self.webpackChunksite_docusaurus_template||[]).push([[9896],{6871:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>N});var n=t(7462),s=(t(7294),t(3905)),m=(t(1694),t(3707)),p=t(9303);const r={sidebar_position:2},i="Insertion Sort",o={unversionedId:"sorting-algorithms/insertion-sort",id:"sorting-algorithms/insertion-sort",title:"Insertion Sort",description:"Insertion sort is a comparison-based sorting algorithm that builds the final sorted array one element at a time by inserting each element into its correct position within the already sorted portion of the array.",source:"@site/docs/01-sorting-algorithms/insertion-sort.md",sourceDirName:"01-sorting-algorithms",slug:"/sorting-algorithms/insertion-sort",permalink:"/2023/notes/sorting-algorithms/insertion-sort",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Bubble Sort",permalink:"/2023/notes/sorting-algorithms/bubble-sort"},next:{title:"Week 2: Analysing Programs",permalink:"/2023/notes/category/week-2-analysing-programs"}},l={},N=[{value:"Goals",id:"goals",level:3},{value:"Test case",id:"test-case",level:2},{value:"Design of Algorithm",id:"design-of-algorithm",level:2},{value:"Outer and Inner Iteration",id:"outer-and-inner-iteration",level:3},{value:"Fixed Outer Iteration",id:"fixed-outer-iteration",level:3},{value:"Non-Fixed Inner Iteration",id:"non-fixed-inner-iteration",level:3},{value:"Insertion Sort v1",id:"insertion-sort-v1",level:3},{value:"Optimised Insertion Sort",id:"optimised-insertion-sort",level:2},{value:"Test Case",id:"test-case-1",level:3},{value:"Insertion Sort v2",id:"insertion-sort-v2",level:3}],k={toc:N},h="wrapper";function c(e){let{components:a,...t}=e;return(0,s.kt)(h,(0,n.Z)({},k,t,{components:a,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"insertion-sort"},"Insertion Sort"),(0,s.kt)(p.Z,{mdxType:"ChatBaseBubble"}),"Insertion sort is a comparison-based sorting algorithm that builds the final sorted array one element at a time by inserting each element into its correct position within the already sorted portion of the array.",(0,s.kt)("h3",{id:"goals"},"Goals"),(0,s.kt)("p",null,"By the end of this lesson, you should be able to:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"describe ",(0,s.kt)("strong",{parentName:"li"},"insertion sort")," algorithm steps and ways to optimise them."),(0,s.kt)("li",{parentName:"ul"},"implement ",(0,s.kt)("strong",{parentName:"li"},"insertion sort")," algorithm.")),(0,s.kt)("admonition",{title:"Keywords",type:"keyword"},(0,s.kt)("p",{parentName:"admonition"},(0,s.kt)("inlineCode",{parentName:"p"},"sorting"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"insertion sort"))),(0,s.kt)("p",null,"Insertion sort is another algorithm that solves the same problem as bubble sort. Let's start by looking at the same test case."),(0,s.kt)("h2",{id:"test-case"},"Test case"),(0,s.kt)("p",null,"Given the following input:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},"# Python Code\nnumbers = [16, 14, 10, 8, 7, 8, 3, 2, 4, 1]\n")),(0,s.kt)("p",null,"We want to write some steps that sort the numbers such that the output will be:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},"[1, 2, 3, 4, 7, 8, 8, 10, 14, 16]\n")),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"We start from the ",(0,s.kt)("em",{parentName:"p"},"second")," element in the list, i.e. 14."),(0,s.kt)("p",{parentName:"li"},"[16, ",(0,s.kt)("strong",{parentName:"p"},"14"),", 10, 8, 7, 8, 3, 2, 4, 1]")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"We then compare that number with the one on the left. If it is smaller, then we will swap. Since ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"14"),(0,s.kt)("mo",{parentName:"mrow"},"<"),(0,s.kt)("mn",{parentName:"mrow"},"16")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"14<16")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6835em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"14"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"<"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"16"))))),", we do a swap."),(0,s.kt)("p",{parentName:"li"},"[",(0,s.kt)("strong",{parentName:"p"},"14, 16"),", 10, 8, 7, 8, 3, 2, 4, 1]")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Since 14 has reached its place, we now move to the ",(0,s.kt)("em",{parentName:"p"},"third")," element in the list, i.e. 10. Since ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"10"),(0,s.kt)("mo",{parentName:"mrow"},"<"),(0,s.kt)("mn",{parentName:"mrow"},"16")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"10 < 16")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6835em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"10"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"<"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"16"))))),", we swap (16, 10)."),(0,s.kt)("p",{parentName:"li"},"[14, ",(0,s.kt)("strong",{parentName:"p"},"16, 10"),", 8, 7, 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[14, ",(0,s.kt)("strong",{parentName:"p"},"10, 16"),", 8, 7, 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"Now we continue comparing 10 with the one on its left, i.e. 14. Since ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"10"),(0,s.kt)("mo",{parentName:"mrow"},"<"),(0,s.kt)("mn",{parentName:"mrow"},"14")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"10<14")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6835em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"10"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"<"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"14"))))),", we swap (14, 10)."),(0,s.kt)("p",{parentName:"li"},"[",(0,s.kt)("strong",{parentName:"p"},"14, 10"),", 16, 8, 7, 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[",(0,s.kt)("strong",{parentName:"p"},"10, 14"),", 16, 8, 7, 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"Now 10 has reached its position.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"We now move to the ",(0,s.kt)("em",{parentName:"p"},"fourth")," element, i.e. 8, and compare it with the number on its left. Since ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"8"),(0,s.kt)("mo",{parentName:"mrow"},"<"),(0,s.kt)("mn",{parentName:"mrow"},"16")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"8 < 16")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6835em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"8"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"<"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"16"))))),", we swap (16, 8). We then continue swapping until 8 reaches its position."),(0,s.kt)("p",{parentName:"li"},"[10, 14, ",(0,s.kt)("strong",{parentName:"p"},"16, 8"),", 7, 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[10, 14, ",(0,s.kt)("strong",{parentName:"p"},"8, 16"),", 7, 8, 3, 2, 4, 1]"),(0,s.kt)("hr",{parentName:"li"}),(0,s.kt)("p",{parentName:"li"},"[10, ",(0,s.kt)("strong",{parentName:"p"},"14, 8"),", 16, 7, 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[10, ",(0,s.kt)("strong",{parentName:"p"},"8, 14"),", 16, 7, 8, 3, 2, 4, 1]"),(0,s.kt)("hr",{parentName:"li"}),(0,s.kt)("p",{parentName:"li"},"[",(0,s.kt)("strong",{parentName:"p"},"10, 8"),", 14, 16, 7, 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[",(0,s.kt)("strong",{parentName:"p"},"8, 10"),", 14, 16, 7, 8, 3, 2, 4, 1]")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"We now move to the ",(0,s.kt)("em",{parentName:"p"},"fifth")," element, i.e. 7. We then have the same swapping all the way until 7 reaches its place."),(0,s.kt)("p",{parentName:"li"},"[8, 10, 14, ",(0,s.kt)("strong",{parentName:"p"},"16, 7"),", 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[8, 10, 14, ",(0,s.kt)("strong",{parentName:"p"},"7, 16"),", 8, 3, 2, 4, 1]"),(0,s.kt)("hr",{parentName:"li"}),(0,s.kt)("p",{parentName:"li"},"[8, 10, ",(0,s.kt)("strong",{parentName:"p"},"14, 7"),", 16, 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[8, 10, ",(0,s.kt)("strong",{parentName:"p"},"7, 14"),", 16, 8, 3, 2, 4, 1]"),(0,s.kt)("hr",{parentName:"li"}),(0,s.kt)("p",{parentName:"li"},"[8, ",(0,s.kt)("strong",{parentName:"p"},"10, 7"),", 14, 16, 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[8, ",(0,s.kt)("strong",{parentName:"p"},"7, 10"),", 14, 16, 8, 3, 2, 4, 1]"),(0,s.kt)("hr",{parentName:"li"}),(0,s.kt)("p",{parentName:"li"},"[",(0,s.kt)("strong",{parentName:"p"},"8, 7"),", 10, 14, 16, 8, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[",(0,s.kt)("strong",{parentName:"p"},"7, 8"),", 10, 14, 16, 8, 3, 2, 4, 1]")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"We now move to the ",(0,s.kt)("em",{parentName:"p"},"sixth")," element, i.e. 8. We will continue swapping until 8 encounters another 8 in the 2nd element. At this point, the swapping will stop."),(0,s.kt)("p",{parentName:"li"},"[7, 8, 10, 14, ",(0,s.kt)("strong",{parentName:"p"},"16, 8"),", 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[7, 8, 10, 14, ",(0,s.kt)("strong",{parentName:"p"},"8, 16"),", 3, 2, 4, 1]"),(0,s.kt)("hr",{parentName:"li"}),(0,s.kt)("p",{parentName:"li"},"[7, 8, 10, ",(0,s.kt)("strong",{parentName:"p"},"14, 8"),", 16, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[7, 8, 10, ",(0,s.kt)("strong",{parentName:"p"},"8, 14"),", 16, 3, 2, 4, 1]"),(0,s.kt)("hr",{parentName:"li"}),(0,s.kt)("p",{parentName:"li"},"[7, 8, ",(0,s.kt)("strong",{parentName:"p"},"10, 8"),", 14, 16, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"[7, 8, ",(0,s.kt)("strong",{parentName:"p"},"8, 10"),", 14, 16, 3, 2, 4, 1]"),(0,s.kt)("hr",{parentName:"li"}),(0,s.kt)("p",{parentName:"li"},"[7, ",(0,s.kt)("strong",{parentName:"p"},"8, 8"),", 10, 14, 16, 3, 2, 4, 1]"),(0,s.kt)("p",{parentName:"li"},"no swapping occurs")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"We can now move to the ",(0,s.kt)("em",{parentName:"p"},"seventh")," element, i.e. 3. We will not show the swapping steps, and only show the final position of the sevent element."),(0,s.kt)("p",{parentName:"li"},"[",(0,s.kt)("strong",{parentName:"p"},"3"),", 7, 8, 8, 10, 14, 16, 2, 4, 1]")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"We do the same with the ",(0,s.kt)("em",{parentName:"p"},"eight")," element, i.e. 2."),(0,s.kt)("p",{parentName:"li"},"[",(0,s.kt)("strong",{parentName:"p"},"2"),", 3, 7, 8, 8, 10, 14, 16, 4, 1]")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Similarly, with the ",(0,s.kt)("em",{parentName:"p"},"nineth")," element, i.e. 4. However, this element will stop swapping when it sees the number lower than itself, so it will stop when it sees 3."),(0,s.kt)("p",{parentName:"li"},"[2, 3, ",(0,s.kt)("strong",{parentName:"p"},"4"),", 7, 8, 8, 10, 14, 16, 1]")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Finally, the ",(0,s.kt)("em",{parentName:"p"},"tenth")," element, i.e. 1, will move all the way to the first position."),(0,s.kt)("p",{parentName:"li"},"[",(0,s.kt)("strong",{parentName:"p"},"1"),", 2, 3, 4, 7, 8, 8, 10, 14, 16]"))),(0,s.kt)("h2",{id:"design-of-algorithm"},"Design of Algorithm"),(0,s.kt)("p",null,"Looking at the above case, we can try to write down our algorithm in pseudocode. Several things to note."),(0,s.kt)("h3",{id:"outer-and-inner-iteration"},"Outer and Inner Iteration"),(0,s.kt)("p",null,"There are ",(0,s.kt)("strong",{parentName:"p"},"two")," iterations in the steps above:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("span",{style:{color:"red",fontWeight:"bold"}},"outer")," iteration is moving from the _second_ element to the last element in the list. What the outer iteration does is to place that n-th element into its position."),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("span",{style:{color:"red",fontWeight:"bold"}},"inner")," iteration is swapping the n-th element until either: - it reaches the most left position, or - the number on its left is smaller")),(0,s.kt)("h3",{id:"fixed-outer-iteration"},"Fixed Outer Iteration"),(0,s.kt)("p",null,"The number of ",(0,s.kt)("em",{parentName:"p"},"outer")," iteration is fixed, which is ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"n"),(0,s.kt)("mo",{parentName:"mrow"},"\u2212"),(0,s.kt)("mn",{parentName:"mrow"},"1")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"n-1")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6667em",verticalAlign:"-0.0833em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"n"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,s.kt)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"1"))))),". This is because it starts from the second element to the last element. So if there are ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"n")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"n")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"n")))))," elements, it will repeat itself ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"n"),(0,s.kt)("mo",{parentName:"mrow"},"\u2212"),(0,s.kt)("mn",{parentName:"mrow"},"1")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"n-1")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6667em",verticalAlign:"-0.0833em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"n"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,s.kt)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"1")))))," times."),(0,s.kt)("p",null,"The ",(0,s.kt)("em",{parentName:"p"},"outer")," iteration starts from the second element, which is index 1."),(0,s.kt)("h3",{id:"non-fixed-inner-iteration"},"Non-Fixed Inner Iteration"),(0,s.kt)("p",null,"The number of ",(0,s.kt)("em",{parentName:"p"},"inner")," iteration is not fixed since it depends on the two cases stated above. The ",(0,s.kt)("strong",{parentName:"p"},"maximum")," number of iteration is when the number reaches the most left position. In this case for element at position ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"i")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"i"))))),", it will repeat ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"i")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"i")))))," times. If it sees a number that is smaller than itself, the number of iteration for the element at position ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"i")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"i")))))," will be less than ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"i")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"i"))))),"."),(0,s.kt)("h3",{id:"insertion-sort-v1"},"Insertion Sort v1"),(0,s.kt)("p",null,"Let's write it down."),(0,s.kt)(m.Z,{title:"Show Pseudocode",mdxType:"DeepDive"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"Insertion Sort\nVersion: 1\nInput: array\nOutput: None, sort in place\nSteps:\n\n1. n = length of array\n2. For outer_index in Range(from 1 to n-1), do:\n   2.1 inner_index = outer_index # start with the i-th element\n   2.2 As long as (inner_index > 0) AND (array[inner_index] < array[inner_index - 1]), do:\n   2.2.1 swap(array[inner_index - 1], array[inner_index])\n   2.2.2 inner_index = inner_index - 1 # move to the left\n"))),(0,s.kt)("h2",{id:"optimised-insertion-sort"},"Optimised Insertion Sort"),(0,s.kt)("p",null,"We can improve the algorithm slightly by reducing the number of assignment in the inner loop. This means that instead of swapping and assigning elements in the ",(0,s.kt)("em",{parentName:"p"},"inner")," iteration, we only assign the element once it finds its final position. To do this, we store the element we are going to move into a temporary variable."),(0,s.kt)("h3",{id:"test-case-1"},"Test Case"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Let's illustrate this when the ",(0,s.kt)("em",{parentName:"p"},"outer")," iteration is moving the ",(0,s.kt)("em",{parentName:"p"},"sixth")," element, i.e. 8."),(0,s.kt)("p",{parentName:"li"},"[7, 8, 10, 14, 16, ",(0,s.kt)("strong",{parentName:"p"},"8"),", 3, 2, 4, 1]")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Instead of swapping (16, 8) pair, we store 8 into a temporary variable. Then we compare the temporary variable with 16. Since ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mn",{parentName:"mrow"},"8"),(0,s.kt)("mo",{parentName:"mrow"},"<"),(0,s.kt)("mn",{parentName:"mrow"},"16")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"8 < 16")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6835em",verticalAlign:"-0.0391em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"8"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"<"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"16"))))),", we simply shift 16 to the right. We indicate the position to be replaced with an underscore below. Since no swap is being done, the old value remains after the shift."),(0,s.kt)("p",{parentName:"li"},"[7, 8, 10, 14, ",(0,s.kt)("strong",{parentName:"p"},"16"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"_8_"),", 3, 2, 4, 1]"," , temporary = 8"),(0,s.kt)("p",{parentName:"li"},"[7, 8, 10, 14, ",(0,s.kt)("inlineCode",{parentName:"p"},"_16_"),", ",(0,s.kt)("strong",{parentName:"p"},"16"),", 3, 2, 4, 1]"," , temporary = 8")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"We then now compare, the temporary variable with 14. Since $ 8 < 14$, we shift 14 to the right."),(0,s.kt)("p",{parentName:"li"},"[7, 8, 10, ",(0,s.kt)("strong",{parentName:"p"},"14"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"_16_"),", 16, 3, 2, 4, 1]"," , temporary = 8"),(0,s.kt)("p",{parentName:"li"},"[7, 8, 10, ",(0,s.kt)("inlineCode",{parentName:"p"},"_14_"),", ",(0,s.kt)("strong",{parentName:"p"},"14"),", 16, 3, 2, 4, 1]"," , temporary = 8")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"We do the same with 10."),(0,s.kt)("p",{parentName:"li"},"[7, 8, ",(0,s.kt)("strong",{parentName:"p"},"10"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"_14_"),", 14, 16, 3, 2, 4, 1]"," , temporary = 8"),(0,s.kt)("p",{parentName:"li"},"[7, 8, ",(0,s.kt)("inlineCode",{parentName:"p"},"_10_"),", ",(0,s.kt)("strong",{parentName:"p"},"10"),", 14, 16, 3, 2, 4, 1]"," , temporary = 8")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Now, we compare the temporary variable with 8. But since 8 is not less than the value in the temporary variable, we do not swap, and store the temporary value to element on the right of it. We can then stop the ",(0,s.kt)("em",{parentName:"p"},"inner")," iteration, and move to the next pass of ",(0,s.kt)("em",{parentName:"p"},"outer")," iteration."),(0,s.kt)("p",{parentName:"li"},"[7, ",(0,s.kt)("strong",{parentName:"p"},"8"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"_10_"),", 10, 14, 16, 3, 2, 4, 1]"," , temporary = 8"),(0,s.kt)("p",{parentName:"li"},"[7, 8, ",(0,s.kt)("strong",{parentName:"p"},"8"),", 10, 14, 16, 3, 2, 4, 1]"," , temporary = 8"))),(0,s.kt)("p",null,"This is an animation example for a different sequence of number from Wikipedia."),(0,s.kt)("p",null,(0,s.kt)("img",{parentName:"p",src:"https://upload.wikimedia.org/wikipedia/commons/9/9c/Insertion-sort-example.gif",alt:"Animation for Insertion Sort"})),(0,s.kt)("h3",{id:"insertion-sort-v2"},"Insertion Sort v2"),(0,s.kt)("p",null,"We can then modify the pseudocode as follows."),(0,s.kt)(m.Z,{title:"Show Pseudocode",mdxType:"DeepDive"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"Insertion Sort\nVersion: 2\nInput: array\nOutput: None, sort in place\nSteps:\n1. n = length of array\n2. For outer_index in Range(from 1 to n-1), do:\n    2.1 inner_index = outer_index  # start with the i-th element\n    2.2 temporary = array[inner_index]\n    2.3 As long as (inner_index > 0) AND (temporary < array[inner_index - 1]), do:\n        2.3.1 array[inner_index] = array[inner_index - 1]) # shift to the right\n        2.3.2 inner_index = inner_index - 1  # move to the left\n    2.4 array[inner_index] = temporary # save temporary to its final position\n"))),(0,s.kt)("admonition",{title:"Note",type:"note"},(0,s.kt)("p",{parentName:"admonition"},"The additional step is on 2.2 where we store the ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"i")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal"},"i"))))),"-th element to a temporary variable."),(0,s.kt)("ul",{parentName:"admonition"},(0,s.kt)("li",{parentName:"ul"},"Step 2.3 condition is modified to compare the temporary variable with the element pointed by ",(0,s.kt)("inlineCode",{parentName:"li"},"inner_index - 1"),"."),(0,s.kt)("li",{parentName:"ul"},"Step 2.3.1 now only have ",(0,s.kt)("strong",{parentName:"li"},"one")," assignment instead of ",(0,s.kt)("strong",{parentName:"li"},"two"),".")),(0,s.kt)("p",{parentName:"admonition"},"We only assign the temporary to the final position in step 2.4. The position stored in 2.4 is ",(0,s.kt)("inlineCode",{parentName:"p"},"inner_index")," instead of ",(0,s.kt)("inlineCode",{parentName:"p"},"inner_index - 1"),". The reason is that in the last iteration, we have executed 2.3.2 which reduces the index by one."),(0,s.kt)("p",{parentName:"admonition"},"Assignment from temporary variable to the array only happens at the end of ",(0,s.kt)("em",{parentName:"p"},"inner")," iteration.")))}c.isMDXComponent=!0}}]);